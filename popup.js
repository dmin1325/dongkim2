(()=>{"use strict";const e=globalThis.browser||chrome,t={maxHoursPerDay:24};async function n(){return new Promise(n=>{e.storage.sync.get(["settings"],e=>{e.settings?n({...t,...e.settings}):n(t)})})}async function s(t){return new Promise(n=>{e.storage.sync.set({settings:t},()=>{n()})})}(()=>{const e=globalThis.browser||chrome;document.addEventListener("DOMContentLoaded",async()=>{!function(){const t=document.getElementById("app-name"),n=document.getElementById("app-subtitle"),s=document.getElementById("go-to-profile"),o=document.getElementById("info-text"),a=document.getElementById("issues-feedback"),i=document.getElementById("settings-title"),c=document.getElementById("max-hours-label");t&&(t.textContent=e.i18n.getMessage("appName")),n&&(n.textContent=e.i18n.getMessage("appSubtitle")),s&&(s.textContent=e.i18n.getMessage("goToProfile")),o&&(o.textContent=e.i18n.getMessage("infoText")),a&&(a.textContent=e.i18n.getMessage("issuesFeedback")),i&&(i.textContent=e.i18n.getMessage("settingsTitle")||"설정"),c&&(c.textContent=e.i18n.getMessage("maxHoursLabel")||"하루 최대 반영 시간")}();const t=await n(),o=document.getElementById("max-hours");o&&(o.value=t.maxHoursPerDay.toString());const a=document.getElementById("save-settings"),i=document.getElementById("save-message");a?.addEventListener("click",async()=>{const t=parseInt(o.value);if(t<1||t>24)return void(i&&(i.textContent="1~24 사이의 값을 입력하세요",i.style.color="#f56565"));const n={maxHoursPerDay:t};await s(n),i&&(i.textContent="저장되었습니다!",i.style.color="#48bb78",setTimeout(()=>{i.textContent=""},2e3)),e.tabs.query({},t=>{t.forEach(t=>{t.url?.includes("intra.42.fr")&&e.tabs.sendMessage(t.id,{type:"SETTINGS_UPDATED",settings:n})})})});const c=document.getElementById("intra-link");c?.addEventListener("click",()=>{e.tabs.create({url:"https://intra.42.fr"})});const r=document.getElementById("github-link");r?.addEventListener("click",()=>{e.tabs.create({url:"https://github.com/dmin1325/dongkim2.git"})})})})()})();